<h2 class="title">
  Personnages de Rick et Morty
</h2>

<div *ngIf="characterService.isLoading()" class="loading-container">
  <div class="loading-spinner"></div>
  <p>Chargement des personnages...</p>
</div>

<section *ngIf="!characterService.isLoading()" class="grid-list">
  @for(character of characterService.charactersList(); track character.id){
    <app-character-item [character]="character"></app-character-item>
  }

  <div *ngIf="characterService.charactersList().length === 0" class="empty-state">
    <p>Aucun personnage trouvé</p>
  </div>
</section>

<section *ngIf="!characterService.isLoading() && characterService.charactersList().length > 0" id="pagination" class="centered horizontal-list">
  <button
    (click)="characterService.prevPage()"
    [disabled]="!characterService.hasPrevPage()"
    [ngClass]="{'disabled': !characterService.hasPrevPage()}"
  >
    Précédent
  </button>
  <span>
    Page {{ characterService.currentPage() }} sur {{ characterService.infos().pages }} |
    {{ characterService.infos().count }} personnages
  </span>
  <button
    (click)="characterService.nextPage()"
    [disabled]="!characterService.hasNextPage()"
    [ngClass]="{'disabled': !characterService.hasNextPage()}"
  >
    Suivant
  </button>
</section>
